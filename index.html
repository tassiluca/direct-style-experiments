<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
	<meta name="generator" content="Hugo 0.123.7">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Direct style for Functional Reactive Programming: an analysis in Scala &amp; Kotlin # Goals of the project # In the realm of asynchronous programming, the Scala ecosystem offers a set of solid monads constructs to tackle complex task functionally with elegance and efficiency, like Monix Tasks and Cats Effect.
However, we are assisting to the increase in adoption of continuation and coroutines in modern runtimes, either exploiting some kind of fibers support, like the project Loom with Virtual Threads, or via code generation, like Kotlin Coroutines.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://tassiluca.github.io/direct-style-experiments/" />

<title> | direct-style-experiments</title>
<link rel="manifest" href="/direct-style-experiments/manifest.json">
<link rel="icon" href="/direct-style-experiments/favicon.png" >
<link rel="canonical" href="https://tassiluca.github.io/direct-style-experiments/">
<link rel="stylesheet" href="/direct-style-experiments/book.min.42504dd4648e8da78376617fd32b73c3ae6afbe9f805c36868bc831b07002332.css" integrity="sha256-QlBN1GSOjaeDdmF/0ytzw65q&#43;&#43;n4BcNoaLyDGwcAIzI=" crossorigin="anonymous">
  <script defer src="/direct-style-experiments/flexsearch.min.js"></script>
  <script defer src="/direct-style-experiments/en.search.min.d64f965666d50a37016b49e842685a4d7769fc0be0967f91c906a8f55b19d992.js" integrity="sha256-1k&#43;WVmbVCjcBa0noQmhaTXdp/Avgln&#43;RyQao9VsZ2ZI=" crossorigin="anonymous"></script>
<link rel="alternate" type="application/rss+xml" href="https://tassiluca.github.io/direct-style-experiments/index.xml" title="direct-style-experiments" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/direct-style-experiments/"><span>direct-style-experiments</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/direct-style-experiments/docs/01-boundaries/" class="">01 Boundaries</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/direct-style-experiments/docs/02-basics/" class="">02 Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/direct-style-experiments/docs/03-channels/" class="">03 Channels</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/direct-style-experiments/docs/04-rears/" class="">04 Rears</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/direct-style-experiments/docs/05-conclusions/" class="">05 Conclusions</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/direct-style-experiments/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong></strong>

  <label for="toc-control">
    
    <img src="/direct-style-experiments/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#goals-of-the-project">Goals of the project</a></li>
    <li><a href="#overview">Overview</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="direct-style-for-functional-reactive-programming-an-analysis-in-scala--kotlin">
  Direct style for Functional Reactive Programming: an analysis in Scala &amp; Kotlin
  <a class="anchor" href="#direct-style-for-functional-reactive-programming-an-analysis-in-scala--kotlin">#</a>
</h1>
<h2 id="goals-of-the-project">
  Goals of the project
  <a class="anchor" href="#goals-of-the-project">#</a>
</h2>
<blockquote>
<p>In the realm of asynchronous programming, the Scala ecosystem offers a set of solid monads constructs to tackle complex task functionally with elegance and efficiency, like <a href="https://monix.io/docs/current/eval/task.html">Monix Tasks</a> and <a href="https://typelevel.org/cats-effect/">Cats Effect</a>.</p>
<p>However, we are assisting to the increase in adoption of continuation and coroutines in modern runtimes, either exploiting some kind of fibers support, like the project Loom with Virtual Threads, or via code generation, like Kotlin Coroutines.</p>
<p>The goal of this project is to delve into this field through the lens of direct style, developing few examples (not too complex) leveraging the new <em>strawman</em> library <a href="https://github.com/lampepfl/gears">Scala Gears</a>, comparing it with Kotlin&rsquo;s Coroutines and the current implementation of monadic Futures, seeking to analyze aspects such as:</p>
<ul>
<li>ergonomics of the two styles (which one results more thoughtful and/or verbose);</li>
<li>which of the two approaches has a real advantage in adoption;</li>
<li>pros and cons of the two styles;</li>
<li>any limitations and difficulties encountered in using them.</li>
</ul>
</blockquote>
<h2 id="overview">
  Overview
  <a class="anchor" href="#overview">#</a>
</h2>
<p>The project is built around three main examples, delving from the fundamentals of the direct style frameworks for simple asynchronous computation to more complex reactive-like systems.</p>
<p>Here&rsquo;s the outline of the conducted analysis:</p>
<ol>
<li><a href="./docs/01-boundaries"><code>Boundary</code> and <code>break</code></a></li>
<li><a href="./docs/02-basics">Basic asynchronous constructs</a></li>
<li><a href="./docs/03-channels">Channels as a communication primitive</a></li>
<li><a href="./docs/04-rears">Reactivity in direct style</a></li>
<li><a href="./docs/05-going-further">Conclusions</a></li>
</ol>
<p>Code has been organized in Gradle submodules, one for each version of the examples (current monadic futures, Scala Gears, Kotlin Coroutines).
Here an overview of the project folder structure:</p>
<div class="highlight"><pre tabindex="0" style="color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>direct-style-experiments
</span></span><span style="display:flex;"><span>├── analyzer-commons         # common code for analyzers (UI, controller, ...)
</span></span><span style="display:flex;"><span>├── analyzer-direct          # analyzer example using Scala Gears
</span></span><span style="display:flex;"><span>├── analyzer-direct-kt       # analyzer example using Kotlin Coroutines
</span></span><span style="display:flex;"><span>├── analyzer-monadic         # analyzer example using current Futures
</span></span><span style="display:flex;"><span>├── blog-ws-commons          # common code for the blog service example
</span></span><span style="display:flex;"><span>├── blog-ws-direct           # blog service example using Scala Gears
</span></span><span style="display:flex;"><span>├── blog-ws-direct-kt        # blog service example using Kotlin Coroutines
</span></span><span style="display:flex;"><span>├── blog-ws-monadic          # blog service example using current Futures
</span></span><span style="display:flex;"><span>├── commons/                 # modules with common code for entire project
</span></span><span style="display:flex;"><span>│   ├─ src/
</span></span><span style="display:flex;"><span>│   │  └─ main/
</span></span><span style="display:flex;"><span>│   │     └─ scala/
</span></span><span style="display:flex;"><span>│   │        ├─ boundaries   # `boundary` and `break` implementations
</span></span><span style="display:flex;"><span>│   │        ├─ examples     # some common examples
</span></span><span style="display:flex;"><span>│   │        └─ pimping      # proposed extensions to the Scala Gears library
</span></span><span style="display:flex;"><span>│   └─ test                  # general tests (cancellation, structured concurrency, ...)
</span></span><span style="display:flex;"><span>├── rears                    # extensions to the Scala Gears library for Rx
</span></span><span style="display:flex;"><span>├── smart-hub-direct         # smart hub example using Scala Gears
</span></span><span style="display:flex;"><span>└── smart-hub-direct-kt      # smart hub example using Kotlin Coroutines
</span></span></code></pre></div><p><strong>IMPORTANT NOTE: Examples works with a version of the JDK &gt; 21</strong> (Virtual Threads are needed!).</p>
<p>To build and run all the tests:</p>
<pre tabindex="0"><code>./gradlew build
</code></pre><p>Generally speaking, the runnable examples can be run by simply executing the <code>run</code> Gradle task in the respective submodule, like:</p>
<pre tabindex="0"><code>./gradlew :analyzer-direct:run
</code></pre><p>Detailed instructions can be found in the <code>README</code> file of each submodule and in the <a href="https://tassiluca.github.io/direct-style-experiments/">documentation</a>.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/tassiLuca/direct-style-experiments/commit/30e913284cc0192a2c819580d7c46d9850c01c8d" title='Last modified by Luca Tassinari | March 4, 2024' target="_blank" rel="noopener">
      <img src="/direct-style-experiments/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>March 4, 2024</span>
    </a>
  </div>




</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#goals-of-the-project">Goals of the project</a></li>
    <li><a href="#overview">Overview</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












